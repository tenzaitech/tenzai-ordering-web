@import "tailwindcss";

:root {
  /* Text scale for accessibility (customer pages) */
  --text-scale: 1;

  /* Dark Loft Theme (DEFAULT - RGB triplets for alpha support) */
  --bg-root: 11 13 16;
  --bg-surface: 18 22 28;
  --bg-elevated: 35 42 52;

  --text-primary: 243 244 246;
  --text-secondary: 209 213 219;
  --text-muted: 156 163 175;

  --border-subtle: 35 42 52;

  --accent: 244 123 32;
  --accent-hover: 251 146 60;
  --accent-soft: 68 35 16;

  --status-success: 34 197 94;
  --status-warning: 251 146 60;
  --status-danger: 239 68 68;

  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
}

html[data-theme="light"] {
  /* Warm Light Theme (Admin-only) */
  --bg-root: 250 249 246;
  --bg-surface: 255 255 255;
  --bg-elevated: 255 255 255;

  --text-primary: 28 25 23;
  --text-secondary: 68 64 60;
  --text-muted: 120 113 108;

  --border-subtle: 231 229 228;

  --accent: 244 123 32;
  --accent-hover: 234 88 12;
  --accent-soft: 255 237 213;

  --status-success: 34 197 94;
  --status-warning: 251 146 60;
  --status-danger: 239 68 68;
}

@theme {
  --color-primary: #F47B20;
  --color-bg: rgb(var(--bg-root));
  --color-card: rgb(var(--bg-surface));
  --color-border: rgb(var(--border-subtle));
  --color-text: rgb(var(--text-primary));
  --color-muted: rgb(var(--text-muted));
  --max-width-mobile: 420px;

  /* Token-based colors for Tailwind */
  --color-bg-root: rgb(var(--bg-root));
  --color-bg-surface: rgb(var(--bg-surface));
  --color-bg-elevated: rgb(var(--bg-elevated));

  --color-text-primary: rgb(var(--text-primary));
  --color-text-secondary: rgb(var(--text-secondary));
  --color-text-muted: rgb(var(--text-muted));

  --color-border-subtle: rgb(var(--border-subtle));

  --color-accent: rgb(var(--accent));
  --color-accent-hover: rgb(var(--accent-hover));
  --color-accent-soft: rgb(var(--accent-soft));

  --color-success: rgb(var(--status-success));
  --color-warning: rgb(var(--status-warning));
  --color-danger: rgb(var(--status-danger));

  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);

  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
}

@layer base {
  body {
    @apply text-text bg-bg;
  }

  /* Customer text scaling - applies to /order/* pages */
  body[data-customer-scale="true"] {
    font-size: calc(1rem * var(--text-scale, 1));
  }

  body[data-customer-scale="true"] h1,
  body[data-customer-scale="true"] h2,
  body[data-customer-scale="true"] h3 {
    font-size: calc(1em * var(--text-scale, 1));
  }

  body[data-customer-scale="true"] .text-xs {
    font-size: calc(0.75rem * var(--text-scale, 1));
  }

  body[data-customer-scale="true"] .text-sm {
    font-size: calc(0.875rem * var(--text-scale, 1));
  }

  body[data-customer-scale="true"] .text-base {
    font-size: calc(1rem * var(--text-scale, 1));
  }

  body[data-customer-scale="true"] .text-lg {
    font-size: calc(1.125rem * var(--text-scale, 1));
  }

  body[data-customer-scale="true"] .text-xl {
    font-size: calc(1.25rem * var(--text-scale, 1));
  }

  body[data-customer-scale="true"] .text-2xl {
    font-size: calc(1.5rem * var(--text-scale, 1));
  }
}

@layer utilities {
  /* Scalable text for customer-facing primary content */
  .scale-text {
    font-size: calc(1em * var(--text-scale, 1));
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  .animate-fade-in {
    animation: fadeIn 0.2s ease-in-out;
  }

  /* Page transitions */
  .page-transition-forward {
    opacity: 0;
    transform: translateY(6px);
    transition: opacity 200ms cubic-bezier(0.2, 0, 0, 1),
                transform 200ms cubic-bezier(0.2, 0, 0, 1);
  }

  .page-transition-forward.page-mounted {
    opacity: 1;
    transform: translateY(0);
  }

  .page-transition-backward {
    opacity: 0;
    transform: translateY(-6px);
    transition: opacity 150ms cubic-bezier(0.2, 0, 0, 1),
                transform 150ms cubic-bezier(0.2, 0, 0, 1);
  }

  .page-transition-backward.page-mounted {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translate(-50%, -10px);
  }
  to {
    opacity: 1;
    transform: translate(-50%, 0);
  }
}
